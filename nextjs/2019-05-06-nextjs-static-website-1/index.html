<!DOCTYPE html><html><head><meta charSet="utf-8" class="next-head"/><title class="next-head">Next.js로 정적 웹사이트 만들기 - 1. Next.js 구조</title><meta name="description" content="Next.js는 현재 가장 유명한 React용 서버 사이드 렌더링 프레임워크이다.

프레임워크로써 이해하기 쉬운 구조와 수많은 예제들, 그리고 다양한 플러그인들을 지원하고 있어 많은 사람들에게 사랑받고 있다.

또한, Next.js는 next export라는 명령어로 routing 경로로 하여금 정적 웹사이트를 만들 수 있는 기능도 제공하고 있다.

&gt;  ..." class="next-head"/><meta name="keywords" content="react, nextjs, website" class="next-head"/><meta property="og:title" content="Next.js로 정적 웹사이트 만들기 - 1. Next.js 구조" class="next-head"/><meta property="og:description" content="Next.js는 현재 가장 유명한 React용 서버 사이드 렌더링 프레임워크이다.

프레임워크로써 이해하기 쉬운 구조와 수많은 예제들, 그리고 다양한 플러그인들을 지원하고 있어 많은 사람들에게 사랑받고 있다.

또한, Next.js는 next export라는 명령어로 routing 경로로 하여금 정적 웹사이트를 만들 수 있는 기능도 제공하고 있다.

&gt;  ..." class="next-head"/><meta property="og:type" content="website" class="next-head"/><meta property="og:site_name" content="Dev.log" class="next-head"/><meta property="og:locale" content="ko_KR" class="next-head"/><meta property="og:url" content="https://salgum1114.github.io/nextjs/2019-05-06-nextjs-static-website-1" class="next-head"/><meta property="og:image" content="https://salgum1114.github.io/static/images/covers/nextjs.png" class="next-head"/><meta name="twitter:title" content="Next.js로 정적 웹사이트 만들기 - 1. Next.js 구조" class="next-head"/><meta name="twitter:image" content="https://salgum1114.github.io/static/images/covers/nextjs.png" class="next-head"/><link rel="preload" href="/_next/static/WBzuTPjOfilMhrb159LWu/pages/post.js" as="script"/><link rel="preload" href="/_next/static/WBzuTPjOfilMhrb159LWu/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/WBzuTPjOfilMhrb159LWu/pages/_error.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-484a8928da4ec3492fcd.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.14799f0a166b7233d4ca.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.a8a2d4bb615b8dc9d9ef.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-0463b6c82337fbcda1e9.js" as="script"/><link rel="stylesheet" href="/_next/static/css/commons.8ba03f37.chunk.css"/><link rel="stylesheet" href="/_next/static/css/styles.2d00b941.chunk.css"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no"/><meta name="google-site-verification" content="YCCU8qpDKf7ka8WDDPA6rt1y0m9egFSi7zeHgmayb6Y"/><meta name="description" content="salgum1114 Dev.log"/><meta name="keywords" content="salgum1114,blog,react,antd,webpack,css,javascript"/><meta property="og:title" content="Dev.log"/><meta property="og:description" content="salgum1114 Dev.log"/><meta property="og:type" content="website"/><meta property="og:site_name" content="Dev.log"/><meta property="og:locale" content="ko_KR"/><meta property="og:url" content="https://salgum1114.github.io"/><meta property="og:image" content="https://salgum1114.github.io/static/images/authors/salgum1114.png"/><meta name="twitter:title" content="Dev.log"/><meta name="twitter:image" content="https://salgum1114.github.io/static/images/authors/salgum1114.png"/><link rel="manifest" href="/static/manifest.json"/><link rel="icon" type="image/png" sizes="192x192" href="/static/images/favicon/icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/images/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/static/images/favicon/favicon-96x96.png"/><link rel="shortcut icon" href="/static/favicon.ico"/><link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/notosanskr.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/3.0.1/github-markdown.min.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/railscasts.min.css"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-97485289-2"></script><script>
                        window.dataLayer = window.dataLayer || [];
                        function gtag() {
                            dataLayer.push(arguments);
                        }
                        gtag('js', new Date());
                        gtag('config', 'UA-97485289-2');
                    </script><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><div id="__next"><section class="ant-layout" style="height:100%"><header class="ant-layout-header" style="background-color:#fff;padding:0;box-shadow:0px 0px 10px -2px rgba(0, 0, 0, 0.75);z-index:1000;position:fixed;width:100%"><div style="display:flex;align-items:center;height:100%"><div style="display:flex;justify-content:flex-start;margin-left:16px;cursor:pointer"><i aria-label="icon: bars" style="font-size:1.25rem" tabindex="-1" class="anticon anticon-bars"><svg viewBox="0 0 1024 1024" class="" data-icon="bars" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"></path></svg></i></div><div style="display:flex;justify-content:center;flex:1;color:#000;font-weight:500;overflow:hidden"><h2 class="container-title"></h2><a href="https://github.com/salgum1114" target="_blank"><i aria-label="icon: github" style="font-size:1.25rem" class="anticon anticon-github"><svg viewBox="64 64 896 896" class="" data-icon="github" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"></path></svg></i></a></div><div style="display:flex;justify-content:flex-end;align-items:center;margin-right:16px"><i aria-label="icon: search" style="font-size:1.25rem" tabindex="-1" class="anticon anticon-search"><svg viewBox="64 64 896 896" class="" data-icon="search" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg></i></div></div></header><main class="ant-layout-content" style="margin-top:64px;overflow:auto"><div class="container" style="display:flex;justify-content:center"><div style="overflow-x:hidden;margin:auto;max-width:992px;flex:1;width:inherit"><div style="-webkit-flex-direction:row;flex-direction:row;-webkit-transition:all 0s ease 0s;transition:all 0s ease 0s;direction:ltr;display:flex;will-change:transform" class="react-swipeable-view-container"><div style="width:100%;-webkit-flex-shrink:0;flex-shrink:0;overflow:auto" aria-hidden="false" data-swipeable="true"><div style="margin:auto;max-width:992px;flex:1;width:inherit"><div class="post-header" style="background-size:cover;background-position:center;height:20rem;margin-bottom:2rem;background-image:url(/static/images/covers/nextjs.png)"><div style="background-color:rgba(0, 0, 0, 0.5);display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%"><h1 class="post-title" style="font-size:2.5em;text-align:center;margin-bottom:2rem;line-height:3.2rem;word-break:break-word;color:#fff">Next.js로 정적 웹사이트 만들기 - 1. Next.js 구조</h1><div style="font-size:1.125em;color:#ffffffc2"><span style="margin-right:8px">2019.05.06</span><span>(7달 전)</span></div></div></div><div class="blog-markdown"><div class="markdown-body"><p><a href="https://nextjs.org/">Next.js</a>는 현재 가장 유명한 <a href="https://reactjs.org/">React</a>용 서버 사이드 렌더링 프레임워크이다.</p>
<p>프레임워크로써 이해하기 쉬운 구조와 <a href="https://github.com/zeit/next.js/tree/canary/examples">수많은 예제</a>들, 그리고 다양한 플러그인들을 지원하고 있어 많은 사람들에게 사랑받고 있다.</p>
<p>또한, Next.js는 <code>next export</code>라는 명령어로 <code>routing 경로</code>로 하여금 정적 웹사이트를 만들 수 있는 기능도 제공하고 있다.</p>
<blockquote>
  <p>Next.js의 최신 버전은 8.x.x인데 최신 버전에서는 export 기능이 제대로 동작하지 않으며, 현재 <code>next export</code> 기능은 7.x.x 버전에서 에러없이 잘 동작한다. <a href="https://github.com/zeit/next.js/issues/6251">[Static export failed when upgraded to v8.0.0 #6251]</a></p>
</blockquote>
<p>이 글은 Next.js의 export 기능을 사용하여 정적 웹사이트를 만드는 것에 대해서 설명하려고 한다.</p>
<blockquote>
  <p>이 글은 서버 사이드 렌더링이 아닌 정적 웹사이트를 만드는 것에 중점으로 설명한다.</p>
</blockquote>
<h2 id="nextjs">Next.js 기본 구조</h2>
<p>Next.js의 기본 구조는 다음처럼 구성된다.</p>
<pre><code class="hljs javascript language-javascript">pages/ <span class="hljs-comment">// HTML Document, Application Container, 각종 페이지 등을 작성한다.</span>
    _document.js <span class="hljs-comment">// HTML Document.</span>
    _app.js <span class="hljs-comment">// Application Container. 공통의 레이아웃을 작성한다.</span>
    _error.js <span class="hljs-comment">// Error Page.</span>
    index.js <span class="hljs-comment">// Root Page /로 시작되는 경로를 말한다.</span>
    hello.js <span class="hljs-comment">// Hello Page /hello로 시작되는 경로를 말한다.</span>
<span class="hljs-keyword">static</span>/ <span class="hljs-comment">// 정적 파일 (이미지, 파일 등)을 업로드 한다.</span>
next.config.js <span class="hljs-comment">// Next.js의 환경 설정 파일이다. 라우팅 설정, typescript, less 등의 webpack 플러그인을 설정한다.</span>
</code></pre>
<h2 id="_documentjs">_document.js</h2>
<p>_document.js는 SPA에서 시작점이 되는 index.html이라고 생각하면 된다.</p>
<blockquote>
  <p>Custom Document를 만들때만 작성이 필요하며, 생략된 경우 Next.js가 기본 값을 사용한다.</p>
</blockquote>
<p>작성 예시는 다음과 같다.</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> Document, { Head, Main, NextScript } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/document'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RootDocument</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Document</span> </span>{
    render() {
        <span class="hljs-keyword">return</span> (
            &lt;html&gt;
                &lt;Head&gt;
                    &lt;meta charSet="utf-8" /&gt;
                    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no" /&gt;
                    &lt;meta name="description" content="Dev.log"/&gt;
                    &lt;meta name="keywords" content="blog,react,antd,webpack,css,javascript" /&gt;
                    &lt;link rel="manifest" href="/static/manifest.json" /&gt;
                    &lt;link rel="shortcut icon" href="/static/favicon.ico" /&gt;
                    &lt;link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/notosanskr.css" /&gt;
                    &lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/3.0.1/github-markdown.min.css" /&gt;
                    &lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/railscasts.min.css" /&gt;
                &lt;/Head&gt;
                &lt;body&gt;
                    &lt;Main /&gt;
                    &lt;NextScript /&gt;
                &lt;/body&gt;
            &lt;/html&gt;
        );
    }
}
</code></pre>
<p>_document.js에서 React와 같은 동작을 수행할 수 있을 것처럼 보이지만 <code>React Lifecycle</code>과 <code>Data Fetching</code>이 불가능하다.</p>
<p><img src="/static/images/nextjs/document-app-differences.png" alt="document-app-differences" /></p>
<p>React에서는 <code>&lt;div id="root" /&gt;</code>처럼 React 컴포넌트가 마운트 되는 최초 요소를 작성하게 된다. 하지만 Next.js에서는 따로 작성할 필요 없이, <code>Main</code>과 <code>NextScript</code> 클래스에 내장 되어 있다.</p>
<p><code>Main</code>과 <code>NextScript</code>의 자세한 설명은 이 글을 참조한다. <a href="https://stackoverflow.com/questions/52083848/nextjs-main-and-nextscript">NextJS: Main and Nextscript</a></p>
<h2 id="_appjs">_app.js</h2>
<p>React에서 대부분 App.js이라는 이름으로 공통의 레이아웃을 작성하듯이 Next.js에서는 Application의 공통 레이아웃을 _app.js에서 작성할 수 있다.</p>
<blockquote>
  <p>생략된 경우 Next.js가 기본 값을 사용한다.</p>
</blockquote>
<p>작성 예시는 다음과 같다.</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> App, { Container } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/app'</span>;
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> NProgress <span class="hljs-keyword">from</span> <span class="hljs-string">'nprogress'</span>;
<span class="hljs-keyword">import</span> Router <span class="hljs-keyword">from</span> <span class="hljs-string">'next/router'</span>;
<span class="hljs-keyword">import</span> Helmet <span class="hljs-keyword">from</span> <span class="hljs-string">'react-helmet'</span>;
<span class="hljs-keyword">import</span> moment <span class="hljs-keyword">from</span> <span class="hljs-string">'moment'</span>;

<span class="hljs-keyword">import</span> Layout <span class="hljs-keyword">from</span> <span class="hljs-string">'../components/Layout'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'../styles/index.less'</span>;

moment.locale(<span class="hljs-string">'ko'</span>);

Router.events.on(<span class="hljs-string">'routeChangeStart'</span>, (url) =&gt; NProgress.start());
Router.events.on(<span class="hljs-string">'routeChangeComplete'</span>, () =&gt; NProgress.done());
Router.events.on(<span class="hljs-string">'routeChangeError'</span>, () =&gt; NProgress.done());

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RootApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">App</span> </span>{
    render() {
        <span class="hljs-keyword">const</span> { Component, ...other } = <span class="hljs-keyword">this</span>.props;
        <span class="hljs-keyword">return</span> (
            &lt;Container&gt;
                &lt;Helmet title="Dev.log" /&gt;
                &lt;Layout {...other} {...this.state}&gt;
                    &lt;Component {...other} {...this.state} /&gt;
                &lt;/Layout&gt;
            &lt;/Container&gt;
        );
    }
}
</code></pre>
<p>이곳에서 ComponentDidCatch로 Error Handling을 한다던지, Routing이 되었을 때의 Progressing 처리, 스타일 시트 Import 등을 작성한다.</p>
<h2 id="_errorjs">_error.js</h2>
<p>Error 처리를 공통으로 하고자 할 때, 공통적으로 사용할 수 있는 Error Page를 작성할 수 있다.</p>
<blockquote>
  <p>생략된 경우 Next.js가 기본 값을 사용한다.</p>
</blockquote>
<p>작성 예시는 다음과 같다.</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">import</span> ErrorPage <span class="hljs-keyword">from</span> <span class="hljs-string">'../components/ErrorPage'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RootError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
    render() {
        <span class="hljs-keyword">const</span> { statusCode } = <span class="hljs-keyword">this</span>.props;
        <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ErrorPage</span> <span class="hljs-attr">statusCode</span>=<span class="hljs-string">{statusCode}</span> /&gt;</span>;
    }
}
</span></code></pre>
<h2 id="nextconfigjs">next.config.js</h2>
<p>webpack plugin들과 Next.js의 라우팅 설정을 작성한다.</p>
<p>작성 예시는 다음과 같다.</p>
<pre><code class="hljs javascript language-javascript"><span class="hljs-keyword">const</span> withLess = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@zeit/next-less'</span>);
<span class="hljs-keyword">const</span> withTypescript = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@zeit/next-typescript'</span>);

<span class="hljs-comment">// fix: prevents error when .less files are required by node</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">require</span> !== <span class="hljs-string">'undefined'</span>) {
    <span class="hljs-built_in">require</span>.extensions[<span class="hljs-string">'.less'</span>] = <span class="hljs-function"><span class="hljs-params">file</span> =&gt;</span> {}
}

<span class="hljs-built_in">module</span>.exports = withTypescript(withLess({
    <span class="hljs-attr">lessLoaderOptions</span>: {
        <span class="hljs-attr">javascriptEnabled</span>: <span class="hljs-literal">true</span>,
    },
    <span class="hljs-attr">exportPathMap</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">return</span> {
        <span class="hljs-string">'/'</span>: { <span class="hljs-attr">page</span>: <span class="hljs-string">'/'</span> },
        <span class="hljs-string">'/about'</span>: { <span class="hljs-attr">page</span>: <span class="hljs-string">'/about'</span> },
        <span class="hljs-string">'/readme.md'</span>: { <span class="hljs-attr">page</span>: <span class="hljs-string">'/readme'</span> },
        <span class="hljs-string">'/p/hello-nextjs'</span>: { <span class="hljs-attr">page</span>: <span class="hljs-string">'/post'</span>, <span class="hljs-attr">query</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">'hello-nextjs'</span> } },
        <span class="hljs-string">'/p/learn-nextjs'</span>: { <span class="hljs-attr">page</span>: <span class="hljs-string">'/post'</span>, <span class="hljs-attr">query</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">'learn-nextjs'</span> } },
        <span class="hljs-string">'/p/deploy-nextjs'</span>: { <span class="hljs-attr">page</span>: <span class="hljs-string">'/post'</span>, <span class="hljs-attr">query</span>: { <span class="hljs-attr">title</span>: <span class="hljs-string">'deploy-nextjs'</span> } }
    },
}));
</code></pre>
<p>Next.js와 관련된 webpack plugin들은 <code>@zeit/next</code> Prefix로 패키지를 제공하고 있으며, 사용할 때는 <code>with</code> prefix로 선언해서 사용한다.</p>
<p><code>exportPathMap</code>이 Next.js의 라우팅 경로이다.</p>
<h3 id="nextjs-1">Next.js로 정적 웹사이트 만들기 목차</h3>
<ul>
<li><a href="https://salgum1114.github.io/nextjs/2019-05-06-nextjs-static-website-1/">Next.js로 정적 웹사이트 만들기 - 1. Next.js 구조</a></li>
<li><a href="https://salgum1114.github.io/nextjs/2019-05-20-nextjs-static-website-2/">Next.js로 정적 웹사이트 만들기 - 2. 프로젝트 구성</a></li>
<li><a href="https://salgum1114.github.io/nextjs/2019-05-21-nextjs-static-website-3/">Next.js로 정적 웹사이트 만들기 - 3. 레이아웃</a></li>
<li><a href="https://salgum1114.github.io/nextjs/2019-05-24-nextjs-static-website-4/">Next.js로 정적 웹사이트 만들기 - 4. Routing 사용하기</a></li>
<li><a href="https://salgum1114.github.io/nextjs/2019-05-28-nextjs-static-website-5/">Next.js로 정적 웹사이트 만들기 - 5. Material UI 적용하기</a></li>
</ul></div></div><div style="display:flex;align-items:center;margin:64px 0 32px 0"><i aria-label="icon: tags" style="font-size:18px;margin-right:16px" class="anticon anticon-tags"><svg viewBox="64 64 896 896" class="" data-icon="tags" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false"><path d="M483.2 790.3L861.4 412c1.7-1.7 2.5-4 2.3-6.3l-25.5-301.4c-.7-7.8-6.8-13.9-14.6-14.6L522.2 64.3c-2.3-.2-4.7.6-6.3 2.3L137.7 444.8a8.03 8.03 0 0 0 0 11.3l334.2 334.2c3.1 3.2 8.2 3.2 11.3 0zm62.6-651.7l224.6 19 19 224.6L477.5 694 233.9 450.5l311.9-311.9zm60.16 186.23a48 48 0 1 0 67.88-67.89 48 48 0 1 0-67.88 67.89zM889.7 539.8l-39.6-39.5a8.03 8.03 0 0 0-11.3 0l-362 361.3-237.6-237a8.03 8.03 0 0 0-11.3 0l-39.6 39.5a8.03 8.03 0 0 0 0 11.3l243.2 242.8 39.6 39.5c3.1 3.1 8.2 3.1 11.3 0l407.3-406.6c3.1-3.1 3.1-8.2 0-11.3z"></path></svg></i><div><div style="cursor:pointer" class="ant-tag">react</div><div style="cursor:pointer" class="ant-tag"> nextjs</div><div style="cursor:pointer" class="ant-tag"> website</div></div></div><div style="max-width:100%;overflow:hidden"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-8569372752842198" data-ad-slot="4568322557" data-ad-format="auto" data-full-width-responsive="true"></ins></div><div class="ant-divider ant-divider-horizontal"></div><div style="margin:32px 0 32px 0"><div style="display:flex;margin:16px 0"><div style="margin-right:16px"><span class="ant-avatar ant-avatar-lg ant-avatar-circle ant-avatar-image"><img src="/static/images/authors/salgum1114.png" alt="Sung Gyun Oh"/></span></div><div><a href="https://github.com/salgum1114" target="_blank"><span style="font-weight:500;color:#212529">Sung Gyun Oh</span></a><div style="word-break:break-word;color:#868e96">Hello world!</div></div></div></div><div class="ant-divider ant-divider-horizontal"></div><div class="ant-spin-nested-loading"><div><div class="ant-spin ant-spin-spinning"><span class="ant-spin-dot ant-spin-dot-spin"><i class="ant-spin-dot-item"></i><i class="ant-spin-dot-item"></i><i class="ant-spin-dot-item"></i><i class="ant-spin-dot-item"></i></span></div></div><div class="ant-spin-container ant-spin-blur"><div style="height:100%"></div></div></div></div></div></div></div><button type="button" class="ant-btn blog-backtop ant-btn-primary ant-btn-circle"><i aria-label="icon: to-top" style="font-size:1.25rem" class="anticon anticon-to-top"><svg viewBox="64 64 896 896" class="" data-icon="to-top" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false"><path d="M885 780H165c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM400 325.7h73.9V664c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V325.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 171a8 8 0 0 0-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13z"></path></svg></i></button></div></main><div><div class="blog-dialog blog-dialog-right blog-dialog-hide" style="width:0"><div class="blog-dialog-title" style="background-color:#fff;width:100%"><div class="blog-dialog-title-extra"></div><div class="blog-dialog-title-close"><i aria-label="icon: close" tabindex="-1" class="anticon anticon-close"><svg viewBox="64 64 896 896" class="" data-icon="close" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"></path></svg></i></div></div><div class="blog-dialog-content" style="padding:0"><div class="blog-search" style="display:flex;flex-direction:column;height:100%"><div style="margin:16px"><span class="ant-input-search ant-input-affix-wrapper"><input type="text" value="" class="ant-input"/><span class="ant-input-suffix"><i aria-label="icon: search" tabindex="-1" class="anticon anticon-search ant-input-search-icon"><svg viewBox="64 64 896 896" class="" data-icon="search" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg></i></span></span></div><div style="margin:16px"><h4>최근 검색</h4><div style="display:flex;justify-content:center;padding:8px;color:#999999">검색 기록이 없습니다</div></div><div style="margin:16px"><h4>최근 기록</h4><div style="display:flex;justify-content:center;padding:8px;color:#999999">읽은 기록이 없습니다</div></div><div style="margin:16px;flex:1"><h4>전체 태그</h4><div style="margin:8px;cursor:pointer" class="ant-tag">react (11)</div><div style="margin:8px;cursor:pointer" class="ant-tag">react-hooks (1)</div><div style="margin:8px;cursor:pointer" class="ant-tag">letsencrypt (1)</div><div style="margin:8px;cursor:pointer" class="ant-tag">openssl (2)</div><div style="margin:8px;cursor:pointer" class="ant-tag">webpack (2)</div><div style="margin:8px;cursor:pointer" class="ant-tag">react-hot-loader (1)</div><div style="margin:8px;cursor:pointer" class="ant-tag">antd (1)</div><div style="margin:8px;cursor:pointer" class="ant-tag">fabricjs (1)</div><div style="margin:8px;cursor:pointer" class="ant-tag">react-design-editor (1)</div><div style="margin:8px;cursor:pointer" class="ant-tag">nextjs (5)</div><div style="margin:8px;cursor:pointer" class="ant-tag">website (5)</div><div style="margin:8px;cursor:pointer" class="ant-tag">typescript (2)</div><div style="margin:8px;cursor:pointer" class="ant-tag">mqtt (1)</div><div style="margin:8px;cursor:pointer" class="ant-tag">medium-zoom (1)</div><div style="margin:8px;cursor:pointer" class="ant-tag">css (2)</div><div style="margin:8px;cursor:pointer" class="ant-tag">overscroll-behavior (1)</div><div style="margin:8px;cursor:pointer" class="ant-tag">scroll-behavior (1)</div><div style="margin:8px;cursor:pointer" class="ant-tag">component (1)</div><div style="margin:8px;cursor:pointer" class="ant-tag">backtop (1)</div><div style="margin:8px;cursor:pointer" class="ant-tag">uglifyjs (1)</div><div style="margin:8px;cursor:pointer" class="ant-tag">terser-webpack-plugin (1)</div></div></div></div><div class="blog-dialog-footer" style="justify-content:center"><a href="https://github.com/salgum1114" target="_blank"><i aria-label="icon: github" style="font-size:1.25rem" class="anticon anticon-github"><svg viewBox="64 64 896 896" class="" data-icon="github" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false"><path d="M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"></path></svg></i></a></div></div></div></section></div><script>__NEXT_DATA__ = {"props":{"pageProps":{"post":{"path":"/nextjs/2019-05-06-nextjs-static-website-1","content":"\u003cp\u003e\u003ca href=\"https://nextjs.org/\"\u003eNext.js\u003c/a\u003e는 현재 가장 유명한 \u003ca href=\"https://reactjs.org/\"\u003eReact\u003c/a\u003e용 서버 사이드 렌더링 프레임워크이다.\u003c/p\u003e\n\u003cp\u003e프레임워크로써 이해하기 쉬운 구조와 \u003ca href=\"https://github.com/zeit/next.js/tree/canary/examples\"\u003e수많은 예제\u003c/a\u003e들, 그리고 다양한 플러그인들을 지원하고 있어 많은 사람들에게 사랑받고 있다.\u003c/p\u003e\n\u003cp\u003e또한, Next.js는 \u003ccode\u003enext export\u003c/code\u003e라는 명령어로 \u003ccode\u003erouting 경로\u003c/code\u003e로 하여금 정적 웹사이트를 만들 수 있는 기능도 제공하고 있다.\u003c/p\u003e\n\u003cblockquote\u003e\n  \u003cp\u003eNext.js의 최신 버전은 8.x.x인데 최신 버전에서는 export 기능이 제대로 동작하지 않으며, 현재 \u003ccode\u003enext export\u003c/code\u003e 기능은 7.x.x 버전에서 에러없이 잘 동작한다. \u003ca href=\"https://github.com/zeit/next.js/issues/6251\"\u003e[Static export failed when upgraded to v8.0.0 #6251]\u003c/a\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e이 글은 Next.js의 export 기능을 사용하여 정적 웹사이트를 만드는 것에 대해서 설명하려고 한다.\u003c/p\u003e\n\u003cblockquote\u003e\n  \u003cp\u003e이 글은 서버 사이드 렌더링이 아닌 정적 웹사이트를 만드는 것에 중점으로 설명한다.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch2 id=\"nextjs\"\u003eNext.js 기본 구조\u003c/h2\u003e\n\u003cp\u003eNext.js의 기본 구조는 다음처럼 구성된다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs javascript language-javascript\"\u003epages/ \u003cspan class=\"hljs-comment\"\u003e// HTML Document, Application Container, 각종 페이지 등을 작성한다.\u003c/span\u003e\n    _document.js \u003cspan class=\"hljs-comment\"\u003e// HTML Document.\u003c/span\u003e\n    _app.js \u003cspan class=\"hljs-comment\"\u003e// Application Container. 공통의 레이아웃을 작성한다.\u003c/span\u003e\n    _error.js \u003cspan class=\"hljs-comment\"\u003e// Error Page.\u003c/span\u003e\n    index.js \u003cspan class=\"hljs-comment\"\u003e// Root Page /로 시작되는 경로를 말한다.\u003c/span\u003e\n    hello.js \u003cspan class=\"hljs-comment\"\u003e// Hello Page /hello로 시작되는 경로를 말한다.\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003estatic\u003c/span\u003e/ \u003cspan class=\"hljs-comment\"\u003e// 정적 파일 (이미지, 파일 등)을 업로드 한다.\u003c/span\u003e\nnext.config.js \u003cspan class=\"hljs-comment\"\u003e// Next.js의 환경 설정 파일이다. 라우팅 설정, typescript, less 등의 webpack 플러그인을 설정한다.\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"_documentjs\"\u003e_document.js\u003c/h2\u003e\n\u003cp\u003e_document.js는 SPA에서 시작점이 되는 index.html이라고 생각하면 된다.\u003c/p\u003e\n\u003cblockquote\u003e\n  \u003cp\u003eCustom Document를 만들때만 작성이 필요하며, 생략된 경우 Next.js가 기본 값을 사용한다.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e작성 예시는 다음과 같다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs javascript language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Document, { Head, Main, NextScript } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'next/document'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eRootDocument\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eDocument\u003c/span\u003e \u003c/span\u003e{\n    render() {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n            \u0026lt;html\u0026gt;\n                \u0026lt;Head\u0026gt;\n                    \u0026lt;meta charSet=\"utf-8\" /\u0026gt;\n                    \u0026lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no\" /\u0026gt;\n                    \u0026lt;meta name=\"description\" content=\"Dev.log\"/\u0026gt;\n                    \u0026lt;meta name=\"keywords\" content=\"blog,react,antd,webpack,css,javascript\" /\u0026gt;\n                    \u0026lt;link rel=\"manifest\" href=\"/static/manifest.json\" /\u0026gt;\n                    \u0026lt;link rel=\"shortcut icon\" href=\"/static/favicon.ico\" /\u0026gt;\n                    \u0026lt;link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/earlyaccess/notosanskr.css\" /\u0026gt;\n                    \u0026lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/3.0.1/github-markdown.min.css\" /\u0026gt;\n                    \u0026lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/railscasts.min.css\" /\u0026gt;\n                \u0026lt;/Head\u0026gt;\n                \u0026lt;body\u0026gt;\n                    \u0026lt;Main /\u0026gt;\n                    \u0026lt;NextScript /\u0026gt;\n                \u0026lt;/body\u0026gt;\n            \u0026lt;/html\u0026gt;\n        );\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e_document.js에서 React와 같은 동작을 수행할 수 있을 것처럼 보이지만 \u003ccode\u003eReact Lifecycle\u003c/code\u003e과 \u003ccode\u003eData Fetching\u003c/code\u003e이 불가능하다.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/static/images/nextjs/document-app-differences.png\" alt=\"document-app-differences\" /\u003e\u003c/p\u003e\n\u003cp\u003eReact에서는 \u003ccode\u003e\u0026lt;div id=\"root\" /\u0026gt;\u003c/code\u003e처럼 React 컴포넌트가 마운트 되는 최초 요소를 작성하게 된다. 하지만 Next.js에서는 따로 작성할 필요 없이, \u003ccode\u003eMain\u003c/code\u003e과 \u003ccode\u003eNextScript\u003c/code\u003e 클래스에 내장 되어 있다.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eMain\u003c/code\u003e과 \u003ccode\u003eNextScript\u003c/code\u003e의 자세한 설명은 이 글을 참조한다. \u003ca href=\"https://stackoverflow.com/questions/52083848/nextjs-main-and-nextscript\"\u003eNextJS: Main and Nextscript\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"_appjs\"\u003e_app.js\u003c/h2\u003e\n\u003cp\u003eReact에서 대부분 App.js이라는 이름으로 공통의 레이아웃을 작성하듯이 Next.js에서는 Application의 공통 레이아웃을 _app.js에서 작성할 수 있다.\u003c/p\u003e\n\u003cblockquote\u003e\n  \u003cp\u003e생략된 경우 Next.js가 기본 값을 사용한다.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e작성 예시는 다음과 같다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs javascript language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e App, { Container } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'next/app'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e React \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'react'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e NProgress \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'nprogress'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Router \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'next/router'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Helmet \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'react-helmet'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e moment \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'moment'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e Layout \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'../components/Layout'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'../styles/index.less'\u003c/span\u003e;\n\nmoment.locale(\u003cspan class=\"hljs-string\"\u003e'ko'\u003c/span\u003e);\n\nRouter.events.on(\u003cspan class=\"hljs-string\"\u003e'routeChangeStart'\u003c/span\u003e, (url) =\u0026gt; NProgress.start());\nRouter.events.on(\u003cspan class=\"hljs-string\"\u003e'routeChangeComplete'\u003c/span\u003e, () =\u0026gt; NProgress.done());\nRouter.events.on(\u003cspan class=\"hljs-string\"\u003e'routeChangeError'\u003c/span\u003e, () =\u0026gt; NProgress.done());\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eRootApp\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eApp\u003c/span\u003e \u003c/span\u003e{\n    render() {\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { Component, ...other } = \u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.props;\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e (\n            \u0026lt;Container\u0026gt;\n                \u0026lt;Helmet title=\"Dev.log\" /\u0026gt;\n                \u0026lt;Layout {...other} {...this.state}\u0026gt;\n                    \u0026lt;Component {...other} {...this.state} /\u0026gt;\n                \u0026lt;/Layout\u0026gt;\n            \u0026lt;/Container\u0026gt;\n        );\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e이곳에서 ComponentDidCatch로 Error Handling을 한다던지, Routing이 되었을 때의 Progressing 처리, 스타일 시트 Import 등을 작성한다.\u003c/p\u003e\n\u003ch2 id=\"_errorjs\"\u003e_error.js\u003c/h2\u003e\n\u003cp\u003eError 처리를 공통으로 하고자 할 때, 공통적으로 사용할 수 있는 Error Page를 작성할 수 있다.\u003c/p\u003e\n\u003cblockquote\u003e\n  \u003cp\u003e생략된 경우 Next.js가 기본 값을 사용한다.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e작성 예시는 다음과 같다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs javascript language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e React, { Component } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'react'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e ErrorPage \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'../components/ErrorPage'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-class\"\u003e\u003cspan class=\"hljs-keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eRootError\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"hljs-title\"\u003eComponent\u003c/span\u003e \u003c/span\u003e{\n    render() {\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e { statusCode } = \u003cspan class=\"hljs-keyword\"\u003ethis\u003c/span\u003e.props;\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eErrorPage\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003estatusCode\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e{statusCode}\u003c/span\u003e /\u0026gt;\u003c/span\u003e;\n    }\n}\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"nextconfigjs\"\u003enext.config.js\u003c/h2\u003e\n\u003cp\u003ewebpack plugin들과 Next.js의 라우팅 설정을 작성한다.\u003c/p\u003e\n\u003cp\u003e작성 예시는 다음과 같다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs javascript language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e withLess = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'@zeit/next-less'\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e withTypescript = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'@zeit/next-typescript'\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// fix: prevents error when .less files are required by node\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e !== \u003cspan class=\"hljs-string\"\u003e'undefined'\u003c/span\u003e) {\n    \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e.extensions[\u003cspan class=\"hljs-string\"\u003e'.less'\u003c/span\u003e] = \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003efile\u003c/span\u003e =\u0026gt;\u003c/span\u003e {}\n}\n\n\u003cspan class=\"hljs-built_in\"\u003emodule\u003c/span\u003e.exports = withTypescript(withLess({\n    \u003cspan class=\"hljs-attr\"\u003elessLoaderOptions\u003c/span\u003e: {\n        \u003cspan class=\"hljs-attr\"\u003ejavascriptEnabled\u003c/span\u003e: \u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e,\n    },\n    \u003cspan class=\"hljs-attr\"\u003eexportPathMap\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003e()\u003c/span\u003e =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n        \u003cspan class=\"hljs-string\"\u003e'/'\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003epage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'/'\u003c/span\u003e },\n        \u003cspan class=\"hljs-string\"\u003e'/about'\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003epage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'/about'\u003c/span\u003e },\n        \u003cspan class=\"hljs-string\"\u003e'/readme.md'\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003epage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'/readme'\u003c/span\u003e },\n        \u003cspan class=\"hljs-string\"\u003e'/p/hello-nextjs'\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003epage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'/post'\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003equery\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003etitle\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'hello-nextjs'\u003c/span\u003e } },\n        \u003cspan class=\"hljs-string\"\u003e'/p/learn-nextjs'\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003epage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'/post'\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003equery\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003etitle\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'learn-nextjs'\u003c/span\u003e } },\n        \u003cspan class=\"hljs-string\"\u003e'/p/deploy-nextjs'\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003epage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'/post'\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003equery\u003c/span\u003e: { \u003cspan class=\"hljs-attr\"\u003etitle\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'deploy-nextjs'\u003c/span\u003e } }\n    },\n}));\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNext.js와 관련된 webpack plugin들은 \u003ccode\u003e@zeit/next\u003c/code\u003e Prefix로 패키지를 제공하고 있으며, 사용할 때는 \u003ccode\u003ewith\u003c/code\u003e prefix로 선언해서 사용한다.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eexportPathMap\u003c/code\u003e이 Next.js의 라우팅 경로이다.\u003c/p\u003e\n\u003ch3 id=\"nextjs-1\"\u003eNext.js로 정적 웹사이트 만들기 목차\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://salgum1114.github.io/nextjs/2019-05-06-nextjs-static-website-1/\"\u003eNext.js로 정적 웹사이트 만들기 - 1. Next.js 구조\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://salgum1114.github.io/nextjs/2019-05-20-nextjs-static-website-2/\"\u003eNext.js로 정적 웹사이트 만들기 - 2. 프로젝트 구성\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://salgum1114.github.io/nextjs/2019-05-21-nextjs-static-website-3/\"\u003eNext.js로 정적 웹사이트 만들기 - 3. 레이아웃\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://salgum1114.github.io/nextjs/2019-05-24-nextjs-static-website-4/\"\u003eNext.js로 정적 웹사이트 만들기 - 4. Routing 사용하기\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://salgum1114.github.io/nextjs/2019-05-28-nextjs-static-website-5/\"\u003eNext.js로 정적 웹사이트 만들기 - 5. Material UI 적용하기\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","preview":"Next.js는 현재 가장 유명한 React용 서버 사이드 렌더링 프레임워크이다.\n\n프레임워크로써 이해하기 쉬운 구조와 수많은 예제들, 그리고 다양한 플러그인들을 지원하고 있어 많은 사람들에게 사랑받고 있다.\n\n또한, Next.js는 next export라는 명령어로 routing 경로로 하여금 정적 웹사이트를 만들 수 있는 기능도 제공하고 있다.\n\n\u003e  ...","title":"Next.js로 정적 웹사이트 만들기 - 1. Next.js 구조","author":"salgum1114","date":"2019-05-06 19:50","tags":"react, nextjs, website","cover":"/static/images/covers/nextjs.png","next":"/reactjs/2019-05-03-medium-zoom","prev":"/reactjs/2019-05-11-using-typescript-without-tsx"}},"authors":{"salgum1114":{"name":"salgum1114","title":"Sung Gyun Oh","avatar":"/static/images/authors/salgum1114.png","bio":"Hello world!"}},"tags":{"react":{"total":11,"paths":["/reactjs/2019-11-28-react-class-equivalents","/reactjs/2019-10-30-react-hot-loader-patch-warning","/etc/2019-10-22-react-design-editor-1","/nextjs/2019-05-28-nextjs-static-website-5","/nextjs/2019-05-24-nextjs-static-website-4","/nextjs/2019-05-21-nextjs-static-website-3","/nextjs/2019-05-20-nextjs-static-website-2","/reactjs/2019-05-11-using-typescript-without-tsx","/nextjs/2019-05-06-nextjs-static-website-1","/reactjs/2019-05-03-medium-zoom","/reactjs/2019-04-25-back-top-component"]},"react-hooks":{"total":1,"paths":["/reactjs/2019-11-28-react-class-equivalents"]},"letsencrypt":{"total":1,"paths":["/etc/2019-11-14-letsencrypt-public-ca"]},"openssl":{"total":2,"paths":["/etc/2019-11-14-letsencrypt-public-ca","/etc/2019-05-20-using-openssl-in-windows"]},"webpack":{"total":2,"paths":["/reactjs/2019-10-30-react-hot-loader-patch-warning","/webpack/2019-04-22-uglifyjs-to-terser"]},"react-hot-loader":{"total":1,"paths":["/reactjs/2019-10-30-react-hot-loader-patch-warning"]},"antd":{"total":1,"paths":["/etc/2019-10-22-react-design-editor-1"]},"fabricjs":{"total":1,"paths":["/etc/2019-10-22-react-design-editor-1"]},"react-design-editor":{"total":1,"paths":["/etc/2019-10-22-react-design-editor-1"]},"nextjs":{"total":5,"paths":["/nextjs/2019-05-28-nextjs-static-website-5","/nextjs/2019-05-24-nextjs-static-website-4","/nextjs/2019-05-21-nextjs-static-website-3","/nextjs/2019-05-20-nextjs-static-website-2","/nextjs/2019-05-06-nextjs-static-website-1"]},"website":{"total":5,"paths":["/nextjs/2019-05-28-nextjs-static-website-5","/nextjs/2019-05-24-nextjs-static-website-4","/nextjs/2019-05-21-nextjs-static-website-3","/nextjs/2019-05-20-nextjs-static-website-2","/nextjs/2019-05-06-nextjs-static-website-1"]},"typescript":{"total":2,"paths":["/etc/2019-05-20-using-openssl-in-windows","/reactjs/2019-05-11-using-typescript-without-tsx"]},"mqtt":{"total":1,"paths":["/etc/2019-05-20-using-openssl-in-windows"]},"medium-zoom":{"total":1,"paths":["/reactjs/2019-05-03-medium-zoom"]},"css":{"total":2,"paths":["/css/2019-04-30-overscroll-behavior-contain","/css/2019-04-28-scroll-behavior-smooth"]},"overscroll-behavior":{"total":1,"paths":["/css/2019-04-30-overscroll-behavior-contain"]},"scroll-behavior":{"total":1,"paths":["/css/2019-04-28-scroll-behavior-smooth"]},"component":{"total":1,"paths":["/reactjs/2019-04-25-back-top-component"]},"backtop":{"total":1,"paths":["/reactjs/2019-04-25-back-top-component"]},"uglifyjs":{"total":1,"paths":["/webpack/2019-04-22-uglifyjs-to-terser"]},"terser-webpack-plugin":{"total":1,"paths":["/webpack/2019-04-22-uglifyjs-to-terser"]}}},"page":"/post","query":{"slug":"/nextjs/2019-05-06-nextjs-static-website-1"},"buildId":"WBzuTPjOfilMhrb159LWu","nextExport":true};__NEXT_LOADED_PAGES__=[];__NEXT_REGISTER_PAGE=function(r,f){__NEXT_LOADED_PAGES__.push([r, f])}</script><script async="" id="__NEXT_PAGE__/post" src="/_next/static/WBzuTPjOfilMhrb159LWu/pages/post.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/WBzuTPjOfilMhrb159LWu/pages/_app.js"></script><script async="" id="__NEXT_PAGE__/_error" src="/_next/static/WBzuTPjOfilMhrb159LWu/pages/_error.js"></script><script src="/_next/static/runtime/webpack-484a8928da4ec3492fcd.js" async=""></script><script src="/_next/static/chunks/commons.14799f0a166b7233d4ca.js" async=""></script><script src="/_next/static/chunks/styles.a8a2d4bb615b8dc9d9ef.js" async=""></script><script src="/_next/static/runtime/main-0463b6c82337fbcda1e9.js" async=""></script></body></html>